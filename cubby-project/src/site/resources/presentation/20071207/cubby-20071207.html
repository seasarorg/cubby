<!--

    Copyright 2004-2009 the Seasar Foundation and the Others.

    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

        http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
    either express or implied. See the License for the specific language
    governing permissions and limitations under the License.

-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="Content-Style-Type" content="text/css; charset=utf-8" />
<meta http-equiv="Content-Script-Type" content="text/javascript; charset=utf-8" />
<meta name="generator" content="vim" />
<meta name="version" content="0.1" />
<meta name="author" content="amachang" />
<link rev="made" href="mailto:seijro@gmail.com" />
<title>Cubby</title>
<script type="text/javascript" src="s6.js"></script>
<script type="text/javascript">
// <![CDATA[

var bodyStyle = {
    width: '100%',
    height: '100%',
    padding: '0',
    margin: '0',
    overflow: 'hidden',
    backgroundColor: '#6BBD19'
};

s6.css('html', bodyStyle);
s6.css('body', bodyStyle);

var pr;
s6.attach(s6, 'ready', function ready() {
    var html = document.documentElement;
    var height = html.offsetHeight;
    var width = html.offsetWidth;
    var top = 0;
    var left = 0;

    if (height / width < 0.75) {
        var originalWidth = width;
        width = height / 0.75;
        left = (originalWidth - width) / 2 + 'px';
    }
    else {
        var originalHeight = height;
        height = width * 0.75;
        top = (originalHeight - height) / 2 + 'px';
    }

    var result;
    if (result = document.cookie.match(/page=(\d+)/)) {
        var startIndex = +result[1];
    }

    pr = new s6.Presentation({ element: document.body, width: width, height: height, startIndex: startIndex });
    pr.style.left = left;
    pr.style.top = top;
    pr.start();

    var indexNoOutline = false;

    pr.funcPages.index.attachPage('click', function(i, element, wrapper) {
        indexNoOutline = true;
        setTimeout(function() {
            indexNoOutline =false
        }, 1000);
        wrapper.style.background = '';
        pr.go(i);
    });

    pr.funcPages.index.attachPage('mouseover', function(i, element, wrapper) {
        if (indexNoOutline) return;
        wrapper.className += ' selected';
    });
    
    pr.funcPages.index.attachPage('mouseout', function(i, element, wrapper) {
        wrapper.className = 'wrapper';
    });

    try {
        var isIframe = !(window.parent == window);
    } catch(e) {
        isIframe = true;
    }

    s6.attach(document,   'keypress Right', 'step', 0, pr);
    s6.attach(document,   'keypress Left',  'prev', 0, pr);
    s6.attach(document,   'keypress Up',    function() { pr.go('index') });
    s6.attach(document,   'keypress Down',  'back', 0, pr);
});

// Test
setInterval(function() {
    document.cookie = 'page=' + pr.index;
}, 1000);
// ]]>
</script>
</head>

<body>

 <!-- ===================================================== -->

 <div>
  <h3>操作方法</h3>
  <ul> 
   <li>→ キー: 次のページへ</li>
   <li>← キー: 前のページへ</li>

   <li>↑ キー: 目次ページへ</li>
   <li>↓ キー: 目次ページから戻る</li>
   <li>目次ページでは ← → キーで一覧を移動し、クリックで選択します</li>
  </ul>
  <script type="text/javascript"> s6.page({ styles: { ul: { fontSize: '0.75em', marginTop: '2%' } } }) </script>
 </div>

 <!-- ===================================================== -->

 <h1>Cubby<br/><span>小さなWebフレームワーク</span></h1>
 <address>AGATA Toshitaka&lt;agata AT nulab.co.jp&gt;</address>

 <script type="text/javascript">
    s6.page({
        wrap: 2,
        separator: 'fade',
        styles: { 
    'h1': {fontSize:'1.5em', paddingLeft: '25px', paddingTop: '25px', paddingBottom: '25px', lineHeight: '1.0em', background: '#6BBD19'},'h1/span': { fontSize:'0.6em'}, 'address': { background: '#BD6B19'}}
    })
 </script>

  <!-- ===================================================== -->

 <div>
  <h2>自己紹介</h2>
  <ul>
   <li>縣俊貴（あがたとしたか）</li>
   <li>株式会社ヌーラボ</li>
   <li>S2XML-RPC/Cubby/S2Pager</li>
   <li>WEB+DB PRESS</li>
  </ul>
  <script type="text/javascript">
    s6.page({ separator: 'fade', styles: { 'ul/li': { lineHeight: 1.7 } } })
  </script>

 </div>

 <!-- ===================================================== -->

 <div>
  <h2>アジェンダ</h2>
  <ul>
   <li>Cubbyって何？</li>
   <li>Cubbyを使うと幸せに<br/>なれる３つのポイント</li>
   <li>Maven2による簡単なデモ</li>
  </ul>
  <script type="text/javascript">
    s6.page({ separator: 'fade', styles: { 'ul/li': { lineHeight: 1.7 } } })
  </script>

 </div>

 <!-- ===================================================== -->

 <div>
  <h2>本日のゴール</h2>
  <ul>
   <li>Cubby触ってみようかな？</li>
   <li>Cool URIが気になる</li>
  </ul>
  <script type="text/javascript">
    s6.page({ separator: 'fade', styles: { 'ul/li': { lineHeight: 1.7 } } })
  </script>

 </div>

 <!-- ===================================================== -->

 <div>
  <h2>Cubbyって何？</h2>
  <script type="text/javascript">
    s6.page({
        separator: 'fade',
        styleBase: 'takahashi',
        effect: 'fadeScaleFromUpTransparent'
    });
  </script>
 </div>

 <!-- ===================================================== -->

 <div>
  <h3>Cubbyって何？</h3>
  <ul>
   <li>Java Webフレームワーク</li>
   <li>Seasar.orgのSandboxにて開発中</li>
	 <li>現在のバージョン0.9.2</li>
   <li>Cubby=小さな整理箱</li>
   <li><a id="url" href="http://cubby.sandbox.seasar.org/">http://cubby.sandbox.seasar.org/</a></li>
  </ul>
  <script type="text/javascript">
    s6.page({ styles: { 'ul/li': { lineHeight: 1.7 }, 'ul/li/a': {fontSize: '0.8em'} } })
  </script>
 </div>

  <!-- ===================================================== -->

 <div>
  <h3>Cubbyを作った理由</h3>
	 <script type="text/javascript">
    s6.page({ styles: { 'ul/li': { lineHeight: 1.7 } } })
  </script>

 </div>


 <!-- ===================================================== -->

 <div>
  <h3>Cubbyを作った理由</h3>
	 <ul>
		 <li>JSP<span style="color: yellow;">2.0</span>が好きだ、大好きだ</li>
	 </ul>
	 <script type="text/javascript">
    s6.page({ styles: { 'ul/li': { lineHeight: 1.7 } } })
  </script>

 </div>

 <!-- ===================================================== -->

 <div>
  <h3>Cubbyを作った理由</h3>
	 <ul>
		 <li>JSP<span style="color: yellow;">2.0</span>が好きだ、大好きだ</li>
		 <li>Strutsから俺は嫌われているようだ</li>
	 </ul>
	 <script type="text/javascript">
    s6.page({ styles: { 'ul/li': { lineHeight: 1.7 } } })
  </script>

 </div>

  <!-- ===================================================== -->

 <div>
  <h3>Cubbyを作った理由</h3>
	 <ul>
		 <li>JSP<span style="color: yellow;">2.0</span>が好きだ、大好きだ</li>
		 <li>Strutsから俺は嫌われているようだ</li>
		 <li>美しいURIのアプリを作りたい</li>
	 </ul>
	 <script type="text/javascript">
    s6.page({ styles: { 'ul/li': { lineHeight: 1.7 } } })
  </script>

 </div>

  <!-- ===================================================== -->

 <div>
  <h3>Cubbyを作った理由</h3>
	 <ul>
		 <li>JSP<span style="color: yellow;">2.0</span>が好きだ、大好きだ</li>
		 <li>Strutsから俺は嫌われているようだ</li>
		 <li>美しいURIのアプリを作りたい</li>
		 <li><span style="color:yellow;">だって作りたかったんだもん</span></li>
	 </ul>
	 <script type="text/javascript">
    s6.page({ styles: { 'ul/li': { lineHeight: 1.7 } } })
  </script>

 </div>

 <!-- ===================================================== -->

 <div>
  <h2>Cubbyを使うと幸せに<br/>なれる３つのポイント</h2>
  <script type="text/javascript">
    s6.page({
        separator: 'fade',
        styleBase: 'takahashi',
        effect: 'fadeScaleFromUpTransparent'
    });
  </script>
 </div>

 <!-- ===================================================== -->

 <div>
  <h2>その１：習得が簡単</h2>
  <script type="text/javascript">
    s6.page({
        separator: 'fade',
        styleBase: 'takahashi',
        effect: 'fadeScaleFromUpTransparent'
    });
  </script>
 </div>

 <!-- ===================================================== -->

<div>
  <h3>習得が簡単 - カスタムタグ</h3>
<pre>
Cubbyの場合
<strong>&lt;t:</strong>input type="text" name="userName" /&gt;
<strong>&lt;t:</strong>select name="typeId"
  <strong>items="${action.todoTypes}"
  labelProperty="name"
  valueProperty="id"</strong>/&gt;
</pre>

<pre>
strutsの場合
<strong>&lt;html:text property="userName"</strong>/&gt;
<strong>&lt;html</strong>:select <strong>property</strong>="type"&gt; 
  <strong>&lt;html:optionsCollection property="choices"</strong> value="id" <strong>label="name" /&gt;</strong>
&lt;/html:select&gt;
</pre>
  <script type="text/javascript">
    s6.page({ styles: { 'pre': { fontSize: '0.35em'} } })
  </script>

 </div>

   <!-- ===================================================== -->

<div>
  <h3>習得が簡単 - カスタムタグ</h3>
<p>カスタムタグは５つだけ</p>
  <ul>
   <li>t:form</li>
   <li>t:input</li>
   <li>t:select</li>
   <li>t:textarea</li>
	 <li>t:token</li>
  </ul>
  <script type="text/javascript">
    s6.page({ styles: { 'ul/li': { lineHeight: 1.5} } })
  </script>
 </div>

 <!-- ===================================================== -->

 <div>
  <h2>その２：設定ファイルいらず</h2>
  <script type="text/javascript">
    s6.page({
        separator: 'fade',
        styleBase: 'takahashi',
        effect: 'fadeScaleFromUpTransparent'
    });
  </script>
 </div>

  <!-- ===================================================== -->

<div>
  <h3>設定ファイルいらず</h3>
<pre>
public class <strong>Todo</strong>Action extends Action {
  // /todo/edit
  public ActionResult <strong>edit</strong>() {
    <strong>return new Forward("edit.jsp");</strong>
  }
}
</pre>
</div>

  <!-- ===================================================== -->

<div>
  <h3>設定ファイルいらず</h3>
<pre>
struts-config.xml
&lt;form-beans&gt;
  &lt;form-bean name="todoForm" 
    type="example.form.TodoForm" /&gt;
&lt;/form-beans&gt;
&lt;action-mappings&gt;
  &lt;action path="/todoEdit.do" 
    type="ex.action.TodoEditAction" name="todo"&gt;
    &lt;forward name="success" 
      path="/todo/edit.jsp" /&gt;
  &lt;/action&gt;
&lt;/action-mappings&gt;
</pre>
  <script type="text/javascript">
    s6.page({ styles: { 'pre': { fontSize: '0.35em'} } })
  </script>
</div>

  <!-- ===================================================== -->

<div>
  <h3>設定ファイルいらず</h3>
<pre>
public class LoginAction extends Action {
  public ValidationRules <strong>loginValidation</strong> =
    new DefaultValidationRules("login.") {
    public void initialize() {
      <strong>add("userId", new RequiredValidator());</strong>
      <strong>add("password", new RequiredValidator());</strong>
    }
  };
  <strong>@Validation(rules="loginValidation",
    errorPage = "/todo/login.jsp")</strong>
  public ActionResult process() {
    ...
  }
}
</pre>
  <script type="text/javascript">
    s6.page({ styles: { 'pre': { fontSize: '0.35em'} } })
  </script>
</div>

   <!-- ===================================================== -->

<div>
  <h3>設定ファイルいらず</h3>
<p>アノテーションは３つ</p>
  <ul>
   <li>@Validation</li>
   <li>@Url</li>
   <li>@Form</li>
  </ul>
  <script type="text/javascript">
    s6.page({ styles: { 'ul/li': { lineHeight: 1.7} } })
  </script>
 </div>

 <!-- ===================================================== -->

 <div>
  <h2>その３：Cool URI</h2>
  <script type="text/javascript">
    s6.page({
        separator: 'fade',
        styleBase: 'takahashi',
        effect: 'fadeScaleFromUpTransparent'
    });
  </script>
 </div>

 <!-- ===================================================== -->

 <div>
  <h3>Cool URI</h3>
 <pre>
http://d.hatena.ne.jp/<strong>agt</strong>/<strong>20071115</strong>
<img src="./cooluri_hatena.png"/>
</pre>
  <script type="text/javascript">
    s6.page({ styles: { 'ul/li': { lineHeight: 1.7, fontSize: '0.6em' }, 'ul/li/strong' : { color: 'yellow'} } })
  </script>
 </div>

 <!-- ===================================================== -->

 <div>
  <h3>Cool URI</h3>
 <pre>
http://twitter.com/<strong>kis</strong>/statuses/<strong>471755892</strong>
<img src="cooluri_twitter.png">
</pre>
  <script type="text/javascript">
    s6.page({ styles: { 'ul/li': { lineHeight: 1.7, fontSize: '0.6em' }, 'ul/li/strong' : { color: 'yellow'} } })
  </script>
 </div>

 <!-- ===================================================== -->

 <div>
  <h3>Cool URI</h3>
 <pre>
https://backlog.backlog.jp/add/<strong>BLG</strong>
<img src="./cooluri_backlog.png"/>
</pre>
  <script type="text/javascript">
    s6.page({ styles: { 'ul/li': { lineHeight: 1.7, fontSize: '0.6em' }, 'ul/li/strong' : { color: 'yellow'} } })
  </script>
 </div>

 <!-- ===================================================== -->

 <div>
  <h3>Cool URI</h3>
 <pre>
http://www.amazon.co.jp/<strong>Javaセンスアップ<br/>       プログラミング-橋本-正徳</strong>/dp/<strong>4798006289</strong>
<img src="./cooluri_amazon.png">
</pre>
  <script type="text/javascript">
    s6.page({ styles: { 'ul/li': { lineHeight: 1.7, fontSize: '0.6em' }, 'ul/li/strong' : { color: 'yellow'} } })
  </script>
 </div>

  <!-- ===================================================== -->

 <div>
  <h3>Cool URI</h3>
  <ul>
   <li>RESTのリソースを表すURI</li>
   <li>メールに貼り付けやすい</li>
   <li>SEO的にもいいらしい</li>
   <li>すごく美しいので気持ちいい</li>
  </ul>
  <script type="text/javascript">
    s6.page({ styles: { 'ul/li': { lineHeight: 1.7 } } })
  </script>
 </div>

    <!-- ===================================================== -->

 <div>
  <h4>Cool URI</h4>
Cubbyの場合
<pre>
// <strong>http://example.com/todo/1</strong>
public class TodoAction extends Action {
  public String <strong>id</strong>;
  <strong>@Url("/todo/{id}")</strong>
  public ActionResult show() {
    System.out.println(id);
  }
  // 正規表現も使えます
  //@Url("{id,<strong>[0-9]+</strong>}")
}
</pre>
 </div>

  <!-- ===================================================== -->

 <div>
  <h4>Cool URI</h4>
mod_rewriteの場合
<pre>
#httpd.conf
<strong>RewriteRule ^\/todo\/([0-9]+)? /todo.do?id=$1</strong>
</pre>
 </div>

 <!-- ===================================================== -->

 <div>
  <h4>Cool URI</h4>
Ruby on Railsの場合
<pre>
# config/routes.rb
ActionController::Routing::Routes.draw do |map|
  <strong>map.connect '/todo/:id',
    :controller =&gt; "todo", :action=&gt; "show"</strong>
end
</pre>
 </div>

 <!-- ===================================================== -->

 <div>
  <h4>Cool URI</h4>
	 <table border="1">
		 <tr>
			 <th>プロダクト</th>
			 <th>言語</th>
			 <th>種類</th>
			 <th>備考</th>
		 </tr>
		 <tr>
			 <td>mod_rewrite</td>
			 <td>-</td>
			 <td>一元管理</td>
			 <td>httpd.conf</td>
		 </tr>
		 <tr>
			 <td>Rails</td>
			 <td>Ruby</td>
			 <td>一元管理</td>
			 <td>config/routes.rb</td>
		 </tr>
		 <tr>
			 <td>Django</td>
			 <td>Python</td>
			 <td>一元管理</td>
			 <td>URLconf</td>
		 </tr>
		 <tr>
			 <td>UrlRewriteFilter</td>
			 <td>Java</td>
			 <td>一元管理</td>
			 <td>/WEB-INF/urlrewrite.xml</td>
		 </tr>
		 <tr>
			 <td>Cubby</td>
			 <td>Java</td>
			 <td>個別</td>
			 <td>Javaのアノテーションで</td>
		 </tr>
		 <tr>
			 <td>Catalyst</td>
			 <td>Perl</td>
			 <td>個別</td>
			 <td>Perlの属性で</td>
		 </tr>
	 </table>
	 <script type="text/javascript">
	 s6.page({ styles: { 'table': { marginLeft:'20px', fontSize: '0.45em',border: 'solid 1px #FFF', borderCollapse:'collapse' } } })
	 </script>
 </div>
 
 <!-- ===================================================== -->

 <div>
  <h3>Mayaa連携</h3>
<pre>
login.html
&lt;form <strong>id="form"</strong>&gt;
ユーザID:&lt;input <strong>id="userId"</strong> type="text" name="userId" /&gt;
パスワード:&lt;input <strong>id="password"</strong> type="password" name="password"/&gt;
&lt;/form&gt;
</pre>
<pre>
login.mayaa
&lt;t:form <strong>m:id="form"</strong> action="${contextPath}/todo/login/process" 
  method="post" value="${action}"/&gt;
&lt;t:input <strong>m:id="userName"</strong> type="text" name="userName" /&gt;
&lt;t:input <strong>m:id="password"</strong> type="text" name="password" /&gt;
</pre>
  <script type="text/javascript">
    s6.page({ styles: { 'pre': { fontSize: '0.4em'} } })
  </script>
 </div>

 <!-- ===================================================== -->

 <div>
  <h3>Maven2 Archetype</h3>
  <ul>
   <li>プロジェクトの雛形を<br/>Maven2から作成する仕組み</li>
   <li>Strutsのblank.war、Railsのrailsコマンド的なもの</li>
  </ul>
  <script type="text/javascript">
    s6.page({ styles: { 'ul/li': { lineHeight: 1.7 } } })
  </script>
 </div>

 <!-- ===================================================== -->

 <div>
  <h3>Maven2 Archetype</h3>
  <ul>
   <li>依存ライブラリの設定</li>
   <li>パッケージ構成</li>
   <li>Seasarの設定ファイル</li>
   <li>Hello World!</li>
  </ul>
  <script type="text/javascript">
    s6.page({ styles: { 'ul/li': { lineHeight: 1.7 } } })
  </script>
 </div>

 <!-- ===================================================== -->

 <div>
  <h3>Maven2 Archetype</h3>
<pre>
<strong>mvn archetype:create </strong>
-DgroupId=<strong>(作成するプロジェクトのグループID 例:com.foo.bar) </strong>
-DartifactId=<strong>(作成するプロジェクトのアーティファクトID 例:barapp) </strong>
-Dversion=<strong>(作成するプロジェクトのバージョン 例:1.0-SNAPSHOT) </strong>
-DarchetypeGroupId=org.seasar.cubby 
-DarchetypeArtifactId=cubby-archetype 
-DarchetypeVersion=0.9.2 
-DremoteRepositories=http://maven.seasar.org/maven2/ 
(実際には1行で入力してください)
<strong>mvn eclipse:eclipse </strong>
<strong>mvn tomcat:run</strong>
</pre>
  <script type="text/javascript">
    s6.page({ styles: { 'pre': { fontSize: '0.4em'} } })
  </script>
 </div>

 <!-- ===================================================== -->

 <div>
  <h3>Maven2 今後の予定</h3>
  <ul>
   <li>URI一覧などドキュメント出力</li>
   <li>Scafold・・・悩み中</li>
   <li>リッチなサンプルアプリ</li>
  </ul>
  <script type="text/javascript">
    s6.page({ styles: { 'ul/li': { lineHeight: 1.7 } } })
  </script>
 </div>

 <!-- ===================================================== -->

 <div>
  <h2>まとめ</h2>
  <script type="text/javascript">
    s6.page({
        separator: 'fade',
        styleBase: 'takahashi',
        effect: 'fadeScaleFromUpTransparent'
    });
  </script>
 </div>

 <!-- ===================================================== -->

 <div>
  <h3>まとめ - Cubbyは・・・</h3>
  <ul>
   <li>シンプルで習得が容易です。</li>
   <li>美しいURIが得意です。</li>
   <li>まずは1度触ってみてください。</li>
  </ul>
  <script type="text/javascript">
    s6.page({ styles: { 'ul/li': { lineHeight: 1.7} } })
  </script>
 </div>

 <!-- ===================================================== -->

 <div>
  <p>ありがとうございました。</p>

  <script type="text/javascript">
    s6.page({
        styleBase: 'takahashi'
    });
  </script>
 </div>

 <!-- ===================================================== -->

</body>
</html>
