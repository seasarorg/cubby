                                    ------
                                  アクション
                                    ------
                                    agata
                                    ------
                                  2007-09-20

アクション

 アクションは{{{cubby/apidocs/org/seasar/cubby/action/Action.html}Action}}を継承して作成します。

アクションメソッド

 リクエストされた URL に応じて、アクションメソッドが呼び出され処理を実行します。\
 Action クラスの中で public で戻り値が ActionResult のメソッドが、アクションメソッドとして認識されます。
 
ActionResult の種類

 以下のクラスはActionResultを実装するクラスで、アクションメソッドの戻り値として使用できます。

*-------------------------------------------------------------------+--------------------------------------------------------------------+
| <<クラス名>>                                                      | <<説明>>                                                           |
*-------------------------------------------------------------------+--------------------------------------------------------------------+
| {{{cubby/apidocs/org/seasar/cubby/action/Forward.html}Forward}}   | 指定されたパスにフォワードします。                                 |
*-------------------------------------------------------------------+--------------------------------------------------------------------+
| {{{cubby/apidocs/org/seasar/cubby/action/Redirect.html}Redirect}} | 指定されたパスにリダイレクトします。                               |
*-------------------------------------------------------------------+--------------------------------------------------------------------+
| {{{cubby/apidocs/org/seasar/cubby/action/Direct.html}Direct}}     | 指定されたバイト配列をレスポンスとして返します。                   |
*-------------------------------------------------------------------+--------------------------------------------------------------------+
| {{{cubby/apidocs/org/seasar/cubby/action/Json.html}Json}}         | 指定されたオブジェクトを Json 形式に変換してレスポンスを返します。 |
*-------------------------------------------------------------------+--------------------------------------------------------------------+

アノテーション

*------------------------------------------------------------------------+--------------------------------------------------------------------+
| <<アノテーション名>>                                                   | <<説明>>                                                           |
*------------------------------------------------------------------------+--------------------------------------------------------------------+
| {{{cubby/apidocs/org/seasar/cubby/action/Url.html}@Url}}               | アクションメソッドのURLを指定します。                              |
*------------------------------------------------------------------------+--------------------------------------------------------------------+
| {{{cubby/apidocs/org/seasar/cubby/action/Form.html}@Form}}             | リクエストパラメータのオブジェクトへのバインディングを指定します。 |
*------------------------------------------------------------------------+--------------------------------------------------------------------+
| {{{cubby/apidocs/org/seasar/cubby/action/Validation.html}@Validation}} | 入力検証を指定します。                                             |
*------------------------------------------------------------------------+--------------------------------------------------------------------+

バリデーション

 Cubby では、プログラム中に入力検証のルールを記述します。

 それぞれのアクションメソッドで使用する入力検証ルールは、{{{cubby/apidocs/org/seasar/cubby/action/Validation.html}@Validation}}アノテーションで指定します。
 また、クライアントサイドバリデーションはありません。

 詳細はあとでかく・・・

+------------------------------------------------------+
public class LoginAction extends Action {
  public static ValidationRules VALIDATION = new DefaultValidationRule() {
    public void initialize() {
      add("userId", new RequiredValidator(), MaxLengthValidator(10));
      add("password", new RequiredValidator(), MaxLengthValidator(10));
    }
  };
  ...
}
+------------------------------------------------------+
